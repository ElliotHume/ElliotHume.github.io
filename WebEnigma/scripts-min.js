var active=!1,sequence=0,puzzle=null,skips=0;$(document).ready(function(){var a=$('.question-box'),b=$('.command-box'),c=$('.previous-commands'),d=$('#input-box');puzzle=new Puzzle(0),$(document).keydown(function(e){vale=d.val().toLowerCase(),13==e.which&&(c.prepend('<p>> '+vale+': '+action(vale)+'</p>'),d.val(''))})});function action(a){if(a=a.trim(),!active){if('start'==a)return active=!0,$('#command').css('color','rgb(5,200,5)'),$('#input-box').css('color','rgb(5,200,5)'),$('#title-bar').css('border-image','linear-gradient(to bottom, rgb(5,200,5), black) 1 100%'),$('h1').css('color','rgb(5,200,5)'),$('h1').css('text-shadow','2px 2px darkgreen'),$('#title-bar').css('outline-color','rgb(5,200,5)'),$('#google-icon').css('display','inline'),puzzle.display(),'let the games begin, you may skip puzzles with the keyword \'skip\'';if('enigma'==a)return'What do you need to do to finish a race?'}else return-1==puzzle.keys.indexOf(a)?'skip'==a?17>sequence?(skips++,sequence++,puzzle=new Puzzle(sequence),puzzle.display(),'Skipped'):'You may not skip this question.':'Incorrect':17>sequence?(sequence++,puzzle=new Puzzle(sequence),puzzle.display(),'Correct'):($('#google-icon').hide(),$('#puzzle_name').css('text-align','center'),$('#puzzle_name').css('width','100%'),$('#puzzle_text').html(''),$('#puzzle_image').attr('src',''),0==skips?($('#puzzle_name').css('color','rgb(5,200,5)'),$('h1').css('color','grey'),$('#puzzle_name').html('You have solved the enigma'),'You have solved the enigma'):($('#puzzle_name').css('color','darkred'),$('#title-bar').css('outline-color','darkred'),$('h1').css('color','grey'),$('h1').css('text-shadow','2px 2px darkgrey'),$('#title-bar').css('border-image','linear-gradient(to bottom, darkred, black) 1 100%'),$('#puzzle_name').html('You failed to solve the enigma. Try again without skipping any questions'),'You failed to solve the enigma. Try again without skipping any questions'))}class Puzzle{constructor(a){this.sequence=a,this.name='',this.text=[],this.pic=null,this.google=!1,this.keys=[],this.build()}build(){this._data=decrypt('Fcnuj Qmsujcbg~Wdb qt I?~ymppvsu/ctqesu/shmqjcbg.ryse~jnms~xcabgqzzc*\t\t\t\tRcwwvs~Au q ujbgs cgucws q jnss, I\'vv dsvy lbmn kbnwu bmjvcis jdss._Bmj cx lbm ymud ts qu I ujqgw, jds tbns I tbis jds vsuu I qt._ _Wdqj qt I?~gmvv~~q ysgzcv_ysgzcv*\t\t\t\tAyjcjmws jsuj~ Wdqj cu jds gsoj gmtasn cg jdcu ushmsgzs?_0 1 3 3 8 21 ?~gmvv~jnms~165*\t\t\t\tRcwwvs~Wdqj cu asjjsn jdqg ebw, kbnus jdqg jds wsicv,_wsqw ysbyvs sqj cj, amj cx lbm sqj cj lbm wcs?~gmvv~~gbjdcge*\t\t\t\t????~bwebibn rs rswgbujqiqg~gmvv~jnms~uctyvs*\t\t\t\tPsnubgqv Rcwwvs (Equl)~_A yqvs udqwbk bg wqnf kqjsn,_Ybm\'vv uss ts kdsg ucedj cu vbuj,_A dqvx bx ts cu qvv lbm\'vv uss qgw sisg jdqj tql wcxxsn._ _Wdqj qt I?~gmvv~~jds tbbg_tbbg*\t\t\t\tPsnubgqv Rcwwvs (Dcxxczmvj)~_I qt ecisg cg jctsu kdsg q emcwcge dqgw cu gsswsw,_Ybm kcvv gbj gssw ts cx lbm dqis ts,_amj kdsg lbm gssw ts, kcjd jds gqjcisu I kcvv as._ _Wdqj qt I?~~gmvv~wcnszjcbgu_q wcnszjcbg_wcnszjcbg*\t\t\t\tShmqnsu~Hbk tqgl uhmqnsu qns jdsns cg jdcu yczjmns?~ymppvsu/ctqesu/uhmqnsu.ryse~~40_41*\t\t\t\tWbnwu~Hbk tqgl tsqgcgeu wbsu jds kbnw "Ogs" dqis?~gmvv~jnms~3*\t\t\t\tWbnwu~Hbk tqgl tsqgcgeu wbsu jds kbnw "Tdnss" dqis?~gmvv~jnms~bgs*\t\t\t\tBnqcg jsqusn~Wdczd gmtasnu qns bg jds fslabqnw?~~gmvv~qvv bx jdst_qvv_cgxcgcjs_cgxcgcjl*\t\t\t\tTnczf~Wdqj wbsu bgs wb kdsg jdsl qns zbtcge cgjb q nbbt, bn zbtcge aqzf jb q nbbt~gmvv~~*\t\t\t\tBnqcg jsqusn~Sbts tbgjdu dqis 30 wqlu, ubts dqis 31 wqlu._Hbk tqgl tbgjdu dqis 28 wqlu?~gmvv~~12_qvv_qvv bx jdst*\t\t\t\tQmsujcbg ncwwvs~Wdqj enbku kdsg cj sqju, amj wcsu kdsg cj wncgfu?~gmvv~~q xcns_xcns_q xvqts_xvqtsu_jssgqesnu*\t\t\t\tWdqj qt I?~05 14 09 07 13 01~gmvv~~sgcetq*\t\t\t\tSjbnl~THE Tncas vsqwsn Iegcjsw dcu sgstl\'u zvbjdsu qu dcu Tncas Lcujsgsw jb jds ubmgw_bx jdscn yncubgEn\'u yvsqwcge, kcjdbmj tsnzl bn nstbnus._Ig jdcu jqvs kcvv lbm xcgw jds qguksn~gmvv~~ujbnl*\t\t\t\tHcujbnl~Wdqj cu jds 6jd gqts ecisg jb jds Lqwl bx jds Lqfs?~gmvv~jnms~gcicqg*\t\t\t\tFcgqv hmsujcbg~Tdcu jdcge qvv jdcgeu wsibmnu:_Bcnwu, asquju, jnssu, xvbksnu;_Ggqku cnbg, acjsu ujssv;_Gncgwu dqnw ujbgsu jb tsqv;_Svqlu fcge, nmcgu jbkg,_Agw asqju dced tbmgjqcg wbkg._ _Wdqj qt I?~gmvv~~jcts*\t\t\t   '),this.lines=this._data.split('*'),this.contentsList=this.lines[this.sequence].split('~'),this.name=this.contentsList[0],this.text=this.contentsList[1].split('_'),this.pic='null'==this.contentsList[2]?null:this.contentsList[2],this.google=!('true'!=this.contentsList[3]),this.keys=this.contentsList[4].split('_')}display(){$('#puzzle_name').html(this.name),$('#puzzle_text').html('');for(var a=0;a<this.text.length;a++)$('#puzzle_text').append('<p>'+this.text[a]+'</p>');$('#puzzle_image').attr('src',this.pic),this.google?$('#google-icon').attr('src','puzzles/images/googlecheck.png'):$('#google-icon').attr('src','puzzles/images/googlex.png')}}function decrypt(a){alphabet='abcdefghijklmnopqrstuvwxyz'.split(''),U_alphabet='abcdefghijklmnopqrstuvwxyz'.toUpperCase().split(''),keys='qazwsxedcrfvtgbyhnujmikolp'.split(''),U_keys='qazwsxedcrfvtgbyhnujmikolp'.toUpperCase().split(''),keydict={};for(var b=0;b<alphabet.length;b++)keydict[keys[b]]=alphabet[b];U_keydict={};for(var b=0;b<U_alphabet.length;b++)U_keydict[U_keys[b]]=U_alphabet[b];loc=a.split('');for(var b=0;b<loc.length;b++)-1!=$.inArray(loc[b],alphabet)&&(loc[b]=loc[b]==loc[b].toLowerCase()?keydict[loc[b]]:U_keydict[loc[b]]);return loc.join('')}